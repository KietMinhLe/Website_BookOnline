{"ast":null,"code":"// Order Model\nexport class Order {\n  constructor(id, userId, items, total, shippingAddress, paymentMethod, status = 'pending') {\n    this.id = id;\n    this.userId = userId;\n    this.items = items; // Array of {book, quantity, price}\n    this.total = total;\n    this.shippingAddress = shippingAddress;\n    this.paymentMethod = paymentMethod;\n    this.status = status; // pending, confirmed, shipped, delivered, cancelled\n    this.createdAt = new Date();\n    this.updatedAt = new Date();\n  }\n\n  // Methods\n  updateStatus(newStatus) {\n    this.status = newStatus;\n    this.updatedAt = new Date();\n  }\n\n  // Getter methods\n  getFormattedTotal() {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(this.total);\n  }\n  getTotalItems() {\n    return this.items.reduce((count, item) => count + item.quantity, 0);\n  }\n  getStatusText() {\n    const statusMap = {\n      'pending': 'Chờ xác nhận',\n      'confirmed': 'Đã xác nhận',\n      'shipped': 'Đang giao hàng',\n      'delivered': 'Đã giao hàng',\n      'cancelled': 'Đã hủy'\n    };\n    return statusMap[this.status] || this.status;\n  }\n  getStatusClass() {\n    const classMap = {\n      'pending': 'warning',\n      'confirmed': 'info',\n      'shipped': 'primary',\n      'delivered': 'success',\n      'cancelled': 'danger'\n    };\n    return classMap[this.status] || 'secondary';\n  }\n  canCancel() {\n    return this.status === 'pending' || this.status === 'confirmed';\n  }\n\n  // Static methods\n  static fromJSON(json) {\n    const order = new Order(json.id, json.userId, json.items, json.total, json.shippingAddress, json.paymentMethod, json.status);\n    order.createdAt = new Date(json.createdAt);\n    order.updatedAt = new Date(json.updatedAt);\n    return order;\n  }\n  toJSON() {\n    return {\n      id: this.id,\n      userId: this.userId,\n      items: this.items,\n      total: this.total,\n      shippingAddress: this.shippingAddress,\n      paymentMethod: this.paymentMethod,\n      status: this.status,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt\n    };\n  }\n}","map":{"version":3,"names":["Order","constructor","id","userId","items","total","shippingAddress","paymentMethod","status","createdAt","Date","updatedAt","updateStatus","newStatus","getFormattedTotal","Intl","NumberFormat","style","currency","format","getTotalItems","reduce","count","item","quantity","getStatusText","statusMap","getStatusClass","classMap","canCancel","fromJSON","json","order","toJSON"],"sources":["D:/frontend/src/models/Order.js"],"sourcesContent":["// Order Model\r\nexport class Order {\r\n  constructor(id, userId, items, total, shippingAddress, paymentMethod, status = 'pending') {\r\n    this.id = id;\r\n    this.userId = userId;\r\n    this.items = items; // Array of {book, quantity, price}\r\n    this.total = total;\r\n    this.shippingAddress = shippingAddress;\r\n    this.paymentMethod = paymentMethod;\r\n    this.status = status; // pending, confirmed, shipped, delivered, cancelled\r\n    this.createdAt = new Date();\r\n    this.updatedAt = new Date();\r\n  }\r\n\r\n  // Methods\r\n  updateStatus(newStatus) {\r\n    this.status = newStatus;\r\n    this.updatedAt = new Date();\r\n  }\r\n\r\n  // Getter methods\r\n  getFormattedTotal() {\r\n    return new Intl.NumberFormat('vi-VN', {\r\n      style: 'currency',\r\n      currency: 'VND'\r\n    }).format(this.total);\r\n  }\r\n\r\n  getTotalItems() {\r\n    return this.items.reduce((count, item) => count + item.quantity, 0);\r\n  }\r\n\r\n  getStatusText() {\r\n    const statusMap = {\r\n      'pending': 'Chờ xác nhận',\r\n      'confirmed': 'Đã xác nhận',\r\n      'shipped': 'Đang giao hàng',\r\n      'delivered': 'Đã giao hàng',\r\n      'cancelled': 'Đã hủy'\r\n    };\r\n    return statusMap[this.status] || this.status;\r\n  }\r\n\r\n  getStatusClass() {\r\n    const classMap = {\r\n      'pending': 'warning',\r\n      'confirmed': 'info',\r\n      'shipped': 'primary',\r\n      'delivered': 'success',\r\n      'cancelled': 'danger'\r\n    };\r\n    return classMap[this.status] || 'secondary';\r\n  }\r\n\r\n  canCancel() {\r\n    return this.status === 'pending' || this.status === 'confirmed';\r\n  }\r\n\r\n  // Static methods\r\n  static fromJSON(json) {\r\n    const order = new Order(\r\n      json.id,\r\n      json.userId,\r\n      json.items,\r\n      json.total,\r\n      json.shippingAddress,\r\n      json.paymentMethod,\r\n      json.status\r\n    );\r\n    order.createdAt = new Date(json.createdAt);\r\n    order.updatedAt = new Date(json.updatedAt);\r\n    return order;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.id,\r\n      userId: this.userId,\r\n      items: this.items,\r\n      total: this.total,\r\n      shippingAddress: this.shippingAddress,\r\n      paymentMethod: this.paymentMethod,\r\n      status: this.status,\r\n      createdAt: this.createdAt,\r\n      updatedAt: this.updatedAt\r\n    };\r\n  }\r\n}\r\n\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,KAAK,CAAC;EACjBC,WAAWA,CAACC,EAAE,EAAEC,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAEC,eAAe,EAAEC,aAAa,EAAEC,MAAM,GAAG,SAAS,EAAE;IACxF,IAAI,CAACN,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,KAAK,GAAGA,KAAK,CAAC,CAAC;IACpB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,MAAM,GAAGA,MAAM,CAAC,CAAC;IACtB,IAAI,CAACC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC;IAC3B,IAAI,CAACC,SAAS,GAAG,IAAID,IAAI,CAAC,CAAC;EAC7B;;EAEA;EACAE,YAAYA,CAACC,SAAS,EAAE;IACtB,IAAI,CAACL,MAAM,GAAGK,SAAS;IACvB,IAAI,CAACF,SAAS,GAAG,IAAID,IAAI,CAAC,CAAC;EAC7B;;EAEA;EACAI,iBAAiBA,CAAA,EAAG;IAClB,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;IACZ,CAAC,CAAC,CAACC,MAAM,CAAC,IAAI,CAACd,KAAK,CAAC;EACvB;EAEAe,aAAaA,CAAA,EAAG;IACd,OAAO,IAAI,CAAChB,KAAK,CAACiB,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC;EACrE;EAEAC,aAAaA,CAAA,EAAG;IACd,MAAMC,SAAS,GAAG;MAChB,SAAS,EAAE,cAAc;MACzB,WAAW,EAAE,aAAa;MAC1B,SAAS,EAAE,gBAAgB;MAC3B,WAAW,EAAE,cAAc;MAC3B,WAAW,EAAE;IACf,CAAC;IACD,OAAOA,SAAS,CAAC,IAAI,CAAClB,MAAM,CAAC,IAAI,IAAI,CAACA,MAAM;EAC9C;EAEAmB,cAAcA,CAAA,EAAG;IACf,MAAMC,QAAQ,GAAG;MACf,SAAS,EAAE,SAAS;MACpB,WAAW,EAAE,MAAM;MACnB,SAAS,EAAE,SAAS;MACpB,WAAW,EAAE,SAAS;MACtB,WAAW,EAAE;IACf,CAAC;IACD,OAAOA,QAAQ,CAAC,IAAI,CAACpB,MAAM,CAAC,IAAI,WAAW;EAC7C;EAEAqB,SAASA,CAAA,EAAG;IACV,OAAO,IAAI,CAACrB,MAAM,KAAK,SAAS,IAAI,IAAI,CAACA,MAAM,KAAK,WAAW;EACjE;;EAEA;EACA,OAAOsB,QAAQA,CAACC,IAAI,EAAE;IACpB,MAAMC,KAAK,GAAG,IAAIhC,KAAK,CACrB+B,IAAI,CAAC7B,EAAE,EACP6B,IAAI,CAAC5B,MAAM,EACX4B,IAAI,CAAC3B,KAAK,EACV2B,IAAI,CAAC1B,KAAK,EACV0B,IAAI,CAACzB,eAAe,EACpByB,IAAI,CAACxB,aAAa,EAClBwB,IAAI,CAACvB,MACP,CAAC;IACDwB,KAAK,CAACvB,SAAS,GAAG,IAAIC,IAAI,CAACqB,IAAI,CAACtB,SAAS,CAAC;IAC1CuB,KAAK,CAACrB,SAAS,GAAG,IAAID,IAAI,CAACqB,IAAI,CAACpB,SAAS,CAAC;IAC1C,OAAOqB,KAAK;EACd;EAEAC,MAAMA,CAAA,EAAG;IACP,OAAO;MACL/B,EAAE,EAAE,IAAI,CAACA,EAAE;MACXC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,eAAe,EAAE,IAAI,CAACA,eAAe;MACrCC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBC,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBE,SAAS,EAAE,IAAI,CAACA;IAClB,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}