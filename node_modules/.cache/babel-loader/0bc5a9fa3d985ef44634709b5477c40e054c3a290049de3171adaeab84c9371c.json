{"ast":null,"code":"import _objectSpread from\"D:/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Row,Col,Card,Table,Button,Form,Badge,InputGroup,Modal,ButtonGroup,Alert}from'react-bootstrap';import{FaSearch,FaEdit,FaTrash,FaPlus,FaTag,FaBook,FaEye}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminCategoriesPage=()=>{const[categories,setCategories]=useState([]);const[showModal,setShowModal]=useState(false);const[editingCategory,setEditingCategory]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[formData,setFormData]=useState({name:'',slug:'',description:'',status:'active',parentId:null,sortOrder:0});useEffect(()=>{// Mock data\nsetCategories([{id:1,name:'Lập trình',slug:'lap-trinh',description:'Sách về lập trình và công nghệ thông tin',status:'active',parentId:null,sortOrder:1,bookCount:45,createdAt:'2024-01-01T00:00:00Z'},{id:2,name:'JavaScript',slug:'javascript',description:'Sách về ngôn ngữ lập trình JavaScript',status:'active',parentId:1,sortOrder:1,bookCount:12,createdAt:'2024-01-02T00:00:00Z'},{id:3,name:'React',slug:'react',description:'Sách về thư viện React.js',status:'active',parentId:1,sortOrder:2,bookCount:8,createdAt:'2024-01-03T00:00:00Z'},{id:4,name:'Khoa học',slug:'khoa-hoc',description:'Sách về khoa học và nghiên cứu',status:'active',parentId:null,sortOrder:2,bookCount:23,createdAt:'2024-01-04T00:00:00Z'}]);},[]);const statusOptions=[{value:'all',label:'Tất cả trạng thái'},{value:'active',label:'Hoạt động'},{value:'inactive',label:'Không hoạt động'}];const parentCategories=categories.filter(cat=>cat.parentId===null);const filteredCategories=categories.filter(category=>{const matchesSearch=category.name.toLowerCase().includes(searchTerm.toLowerCase())||category.slug.toLowerCase().includes(searchTerm.toLowerCase())||category.description.toLowerCase().includes(searchTerm.toLowerCase());const matchesStatus=statusFilter==='all'||category.status===statusFilter;return matchesSearch&&matchesStatus;});const getStatusBadge=status=>{return status==='active'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Ho\\u1EA1t \\u0111\\u1ED9ng\"}):/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"});};const getParentCategoryName=parentId=>{if(!parentId)return'-';const parent=categories.find(cat=>cat.id===parentId);return parent?parent.name:'Không xác định';};const generateSlug=name=>{return name.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g,'').replace(/[^a-z0-9\\s-]/g,'').replace(/\\s+/g,'-').replace(/-+/g,'-').trim('-');};const handleAddCategory=()=>{setEditingCategory(null);setFormData({name:'',slug:'',description:'',status:'active',parentId:null,sortOrder:0});setShowModal(true);};const handleEditCategory=category=>{setEditingCategory(category);setFormData({name:category.name,slug:category.slug,description:category.description,status:category.status,parentId:category.parentId,sortOrder:category.sortOrder});setShowModal(true);};const handleSaveCategory=()=>{if(!formData.name.trim()){alert('Vui lòng nhập tên danh mục');return;}const categoryData=_objectSpread(_objectSpread({},formData),{},{slug:formData.slug||generateSlug(formData.name),sortOrder:parseInt(formData.sortOrder)||0});if(editingCategory){setCategories(categories.map(cat=>cat.id===editingCategory.id?_objectSpread(_objectSpread({},cat),categoryData):cat));}else{const newCategory=_objectSpread(_objectSpread({id:Math.max(...categories.map(c=>c.id))+1},categoryData),{},{bookCount:0,createdAt:new Date().toISOString()});setCategories([...categories,newCategory]);}setShowModal(false);};const handleDeleteCategory=categoryId=>{const category=categories.find(cat=>cat.id===categoryId);const hasChildren=categories.some(cat=>cat.parentId===categoryId);if(hasChildren){alert('Không thể xóa danh mục có danh mục con');return;}if(category.bookCount>0){alert('Không thể xóa danh mục có sách');return;}if(window.confirm('Bạn có chắc chắn muốn xóa danh mục này?')){setCategories(categories.filter(cat=>cat.id!==categoryId));}};const handleToggleStatus=categoryId=>{setCategories(categories.map(cat=>cat.id===categoryId?_objectSpread(_objectSpread({},cat),{},{status:cat.status==='active'?'inactive':'active'}):cat));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Qu\\u1EA3n l\\xFD danh m\\u1EE5c\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handleAddCategory,children:[/*#__PURE__*/_jsx(FaPlus,{className:\"me-2\"}),\"Th\\xEAm danh m\\u1EE5c\"]})]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",children:categories.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"T\\u1ED5ng danh m\\u1EE5c\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-success\",children:categories.filter(c=>c.status==='active').length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-info\",children:categories.filter(c=>c.parentId===null).length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Danh m\\u1EE5c cha\"})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"text-center\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning\",children:categories.reduce((sum,cat)=>sum+cat.bookCount,0)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"T\\u1ED5ng s\\xE1ch\"})]})})})]}),/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputGroup.Text,{children:/*#__PURE__*/_jsx(FaSearch,{})}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"T\\xECm ki\\u1EBFm theo t\\xEAn, slug, m\\xF4 t\\u1EA3...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Form.Select,{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:statusOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",className:\"w-100\",children:\"L\\u1ECDc\"})})]})})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn danh m\\u1EE5c\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Slug\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Danh m\\u1EE5c cha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 s\\xE1ch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Th\\u1EE9 t\\u1EF1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredCategories.map(category=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(FaTag,{className:\"text-muted me-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:category.name}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"ID: \",category.id]})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"code\",{children:category.slug})}),/*#__PURE__*/_jsx(\"td\",{children:getParentCategoryName(category.parentId)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-truncate\",style:{maxWidth:'200px'},children:category.description})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[/*#__PURE__*/_jsx(FaBook,{className:\"me-1\"}),category.bookCount]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:category.sortOrder})}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(category.status)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{size:\"sm\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",title:\"Xem chi ti\\u1EBFt\",children:/*#__PURE__*/_jsx(FaEye,{})}),/*#__PURE__*/_jsx(Button,{variant:\"outline-warning\",title:\"Ch\\u1EC9nh s\\u1EEDa\",onClick:()=>handleEditCategory(category),children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(Button,{variant:category.status==='active'?'outline-danger':'outline-success',title:category.status==='active'?'Vô hiệu hóa':'Kích hoạt',onClick:()=>handleToggleStatus(category.id),children:category.status==='active'?'Ẩn':'Hiện'}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",title:\"X\\xF3a\",onClick:()=>handleDeleteCategory(category.id),disabled:category.bookCount>0||categories.some(cat=>cat.parentId===category.id),children:/*#__PURE__*/_jsx(FaTrash,{})})]})})]},category.id))})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editingCategory?'Chỉnh sửa danh mục':'Thêm danh mục mới'})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEAn danh m\\u1EE5c *\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),placeholder:\"Nh\\u1EADp t\\xEAn danh m\\u1EE5c\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Slug\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:formData.slug,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{slug:e.target.value})),placeholder:\"T\\u1EF1 \\u0111\\u1ED9ng t\\u1EA1o t\\u1EEB t\\xEAn\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"\\u0110\\u1EC3 tr\\u1ED1ng \\u0111\\u1EC3 t\\u1EF1 \\u0111\\u1ED9ng t\\u1EA1o t\\u1EEB t\\xEAn danh m\\u1EE5c\"})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Danh m\\u1EE5c cha\"}),/*#__PURE__*/_jsxs(Form.Select,{value:formData.parentId||'',onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{parentId:e.target.value?parseInt(e.target.value):null})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Kh\\xF4ng c\\xF3 (danh m\\u1EE5c cha)\"}),parentCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Th\\u1EE9 t\\u1EF1 s\\u1EAFp x\\u1EBFp\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:formData.sortOrder,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{sortOrder:e.target.value})),placeholder:\"0\"})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsxs(Form.Select,{value:formData.status,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Ho\\u1EA1t \\u0111\\u1ED9ng\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"})]})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),placeholder:\"M\\xF4 t\\u1EA3 v\\u1EC1 danh m\\u1EE5c...\"})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowModal(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSaveCategory,children:editingCategory?'Cập nhật':'Thêm danh mục'})]})]})]});};export default AdminCategoriesPage;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Card","Table","Button","Form","Badge","InputGroup","Modal","ButtonGroup","Alert","FaSearch","FaEdit","FaTrash","FaPlus","FaTag","FaBook","FaEye","jsx","_jsx","jsxs","_jsxs","AdminCategoriesPage","categories","setCategories","showModal","setShowModal","editingCategory","setEditingCategory","searchTerm","setSearchTerm","statusFilter","setStatusFilter","formData","setFormData","name","slug","description","status","parentId","sortOrder","id","bookCount","createdAt","statusOptions","value","label","parentCategories","filter","cat","filteredCategories","category","matchesSearch","toLowerCase","includes","matchesStatus","getStatusBadge","bg","children","getParentCategoryName","parent","find","generateSlug","normalize","replace","trim","handleAddCategory","handleEditCategory","handleSaveCategory","alert","categoryData","_objectSpread","parseInt","map","newCategory","Math","max","c","Date","toISOString","handleDeleteCategory","categoryId","hasChildren","some","window","confirm","handleToggleStatus","className","variant","onClick","md","Body","length","reduce","sum","Text","Control","type","placeholder","onChange","e","target","Select","option","responsive","style","maxWidth","size","title","disabled","show","onHide","Header","closeButton","Title","Group","Label","as","rows","Footer"],"sources":["D:/frontend/src/admin/pages/AdminCategoriesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Row, \r\n  Col, \r\n  Card, \r\n  Table, \r\n  Button, \r\n  Form, \r\n  Badge,\r\n  InputGroup,\r\n  Modal,\r\n  ButtonGroup,\r\n  Alert\r\n} from 'react-bootstrap';\r\nimport { \r\n  FaSearch, \r\n  FaEdit, \r\n  FaTrash,\r\n  FaPlus,\r\n  FaTag,\r\n  FaBook,\r\n  FaEye\r\n} from 'react-icons/fa';\r\n\r\nconst AdminCategoriesPage = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingCategory, setEditingCategory] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    slug: '',\r\n    description: '',\r\n    status: 'active',\r\n    parentId: null,\r\n    sortOrder: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Mock data\r\n    setCategories([\r\n      {\r\n        id: 1,\r\n        name: 'Lập trình',\r\n        slug: 'lap-trinh',\r\n        description: 'Sách về lập trình và công nghệ thông tin',\r\n        status: 'active',\r\n        parentId: null,\r\n        sortOrder: 1,\r\n        bookCount: 45,\r\n        createdAt: '2024-01-01T00:00:00Z'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'JavaScript',\r\n        slug: 'javascript',\r\n        description: 'Sách về ngôn ngữ lập trình JavaScript',\r\n        status: 'active',\r\n        parentId: 1,\r\n        sortOrder: 1,\r\n        bookCount: 12,\r\n        createdAt: '2024-01-02T00:00:00Z'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'React',\r\n        slug: 'react',\r\n        description: 'Sách về thư viện React.js',\r\n        status: 'active',\r\n        parentId: 1,\r\n        sortOrder: 2,\r\n        bookCount: 8,\r\n        createdAt: '2024-01-03T00:00:00Z'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Khoa học',\r\n        slug: 'khoa-hoc',\r\n        description: 'Sách về khoa học và nghiên cứu',\r\n        status: 'active',\r\n        parentId: null,\r\n        sortOrder: 2,\r\n        bookCount: 23,\r\n        createdAt: '2024-01-04T00:00:00Z'\r\n      }\r\n    ]);\r\n  }, []);\r\n\r\n  const statusOptions = [\r\n    { value: 'all', label: 'Tất cả trạng thái' },\r\n    { value: 'active', label: 'Hoạt động' },\r\n    { value: 'inactive', label: 'Không hoạt động' }\r\n  ];\r\n\r\n  const parentCategories = categories.filter(cat => cat.parentId === null);\r\n\r\n  const filteredCategories = categories.filter(category => {\r\n    const matchesSearch = category.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         category.slug.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         category.description.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesStatus = statusFilter === 'all' || category.status === statusFilter;\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const getStatusBadge = (status) => {\r\n    return status === 'active' \r\n      ? <Badge bg=\"success\">Hoạt động</Badge>\r\n      : <Badge bg=\"secondary\">Không hoạt động</Badge>;\r\n  };\r\n\r\n  const getParentCategoryName = (parentId) => {\r\n    if (!parentId) return '-';\r\n    const parent = categories.find(cat => cat.id === parentId);\r\n    return parent ? parent.name : 'Không xác định';\r\n  };\r\n\r\n  const generateSlug = (name) => {\r\n    return name\r\n      .toLowerCase()\r\n      .normalize('NFD')\r\n      .replace(/[\\u0300-\\u036f]/g, '')\r\n      .replace(/[^a-z0-9\\s-]/g, '')\r\n      .replace(/\\s+/g, '-')\r\n      .replace(/-+/g, '-')\r\n      .trim('-');\r\n  };\r\n\r\n  const handleAddCategory = () => {\r\n    setEditingCategory(null);\r\n    setFormData({\r\n      name: '',\r\n      slug: '',\r\n      description: '',\r\n      status: 'active',\r\n      parentId: null,\r\n      sortOrder: 0\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditCategory = (category) => {\r\n    setEditingCategory(category);\r\n    setFormData({\r\n      name: category.name,\r\n      slug: category.slug,\r\n      description: category.description,\r\n      status: category.status,\r\n      parentId: category.parentId,\r\n      sortOrder: category.sortOrder\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleSaveCategory = () => {\r\n    if (!formData.name.trim()) {\r\n      alert('Vui lòng nhập tên danh mục');\r\n      return;\r\n    }\r\n\r\n    const categoryData = {\r\n      ...formData,\r\n      slug: formData.slug || generateSlug(formData.name),\r\n      sortOrder: parseInt(formData.sortOrder) || 0\r\n    };\r\n\r\n    if (editingCategory) {\r\n      setCategories(categories.map(cat => \r\n        cat.id === editingCategory.id \r\n          ? { ...cat, ...categoryData }\r\n          : cat\r\n      ));\r\n    } else {\r\n      const newCategory = {\r\n        id: Math.max(...categories.map(c => c.id)) + 1,\r\n        ...categoryData,\r\n        bookCount: 0,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      setCategories([...categories, newCategory]);\r\n    }\r\n\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleDeleteCategory = (categoryId) => {\r\n    const category = categories.find(cat => cat.id === categoryId);\r\n    const hasChildren = categories.some(cat => cat.parentId === categoryId);\r\n    \r\n    if (hasChildren) {\r\n      alert('Không thể xóa danh mục có danh mục con');\r\n      return;\r\n    }\r\n    \r\n    if (category.bookCount > 0) {\r\n      alert('Không thể xóa danh mục có sách');\r\n      return;\r\n    }\r\n\r\n    if (window.confirm('Bạn có chắc chắn muốn xóa danh mục này?')) {\r\n      setCategories(categories.filter(cat => cat.id !== categoryId));\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = (categoryId) => {\r\n    setCategories(categories.map(cat => \r\n      cat.id === categoryId \r\n        ? { ...cat, status: cat.status === 'active' ? 'inactive' : 'active' }\r\n        : cat\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>Quản lý danh mục</h2>\r\n        <Button variant=\"primary\" onClick={handleAddCategory}>\r\n          <FaPlus className=\"me-2\" />\r\n          Thêm danh mục\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <h4 className=\"text-primary\">{categories.length}</h4>\r\n              <p className=\"text-muted\">Tổng danh mục</p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <h4 className=\"text-success\">{categories.filter(c => c.status === 'active').length}</h4>\r\n              <p className=\"text-muted\">Đang hoạt động</p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <h4 className=\"text-info\">{categories.filter(c => c.parentId === null).length}</h4>\r\n              <p className=\"text-muted\">Danh mục cha</p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <h4 className=\"text-warning\">{categories.reduce((sum, cat) => sum + cat.bookCount, 0)}</h4>\r\n              <p className=\"text-muted\">Tổng sách</p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"mb-4\">\r\n        <Card.Body>\r\n          <Row>\r\n            <Col md={6}>\r\n              <InputGroup>\r\n                <InputGroup.Text>\r\n                  <FaSearch />\r\n                </InputGroup.Text>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Tìm kiếm theo tên, slug, mô tả...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </InputGroup>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Form.Select\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n              >\r\n                {statusOptions.map(option => (\r\n                  <option key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </Form.Select>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Button variant=\"outline-secondary\" className=\"w-100\">\r\n                Lọc\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Categories Table */}\r\n      <Card>\r\n        <Card.Body>\r\n          <Table responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>Tên danh mục</th>\r\n                <th>Slug</th>\r\n                <th>Danh mục cha</th>\r\n                <th>Mô tả</th>\r\n                <th>Số sách</th>\r\n                <th>Thứ tự</th>\r\n                <th>Trạng thái</th>\r\n                <th>Thao tác</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredCategories.map((category) => (\r\n                <tr key={category.id}>\r\n                  <td>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <FaTag className=\"text-muted me-2\" />\r\n                      <div>\r\n                        <div className=\"fw-bold\">{category.name}</div>\r\n                        <small className=\"text-muted\">ID: {category.id}</small>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <code>{category.slug}</code>\r\n                  </td>\r\n                  <td>\r\n                    {getParentCategoryName(category.parentId)}\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"text-truncate\" style={{maxWidth: '200px'}}>\r\n                      {category.description}\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <Badge bg=\"info\">\r\n                      <FaBook className=\"me-1\" />\r\n                      {category.bookCount}\r\n                    </Badge>\r\n                  </td>\r\n                  <td>\r\n                    <span className=\"fw-bold\">{category.sortOrder}</span>\r\n                  </td>\r\n                  <td>{getStatusBadge(category.status)}</td>\r\n                  <td>\r\n                    <ButtonGroup size=\"sm\">\r\n                      <Button \r\n                        variant=\"outline-primary\" \r\n                        title=\"Xem chi tiết\"\r\n                      >\r\n                        <FaEye />\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"outline-warning\" \r\n                        title=\"Chỉnh sửa\"\r\n                        onClick={() => handleEditCategory(category)}\r\n                      >\r\n                        <FaEdit />\r\n                      </Button>\r\n                      <Button \r\n                        variant={category.status === 'active' ? 'outline-danger' : 'outline-success'}\r\n                        title={category.status === 'active' ? 'Vô hiệu hóa' : 'Kích hoạt'}\r\n                        onClick={() => handleToggleStatus(category.id)}\r\n                      >\r\n                        {category.status === 'active' ? 'Ẩn' : 'Hiện'}\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"outline-danger\" \r\n                        title=\"Xóa\"\r\n                        onClick={() => handleDeleteCategory(category.id)}\r\n                        disabled={category.bookCount > 0 || categories.some(cat => cat.parentId === category.id)}\r\n                      >\r\n                        <FaTrash />\r\n                      </Button>\r\n                    </ButtonGroup>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Add/Edit Category Modal */}\r\n      <Modal show={showModal} onHide={() => setShowModal(false)} size=\"lg\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {editingCategory ? 'Chỉnh sửa danh mục' : 'Thêm danh mục mới'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col md={8}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Tên danh mục *</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n                  placeholder=\"Nhập tên danh mục\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Slug</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  value={formData.slug}\r\n                  onChange={(e) => setFormData({...formData, slug: e.target.value})}\r\n                  placeholder=\"Tự động tạo từ tên\"\r\n                />\r\n                <Form.Text className=\"text-muted\">\r\n                  Để trống để tự động tạo từ tên danh mục\r\n                </Form.Text>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          \r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Danh mục cha</Form.Label>\r\n                <Form.Select\r\n                  value={formData.parentId || ''}\r\n                  onChange={(e) => setFormData({...formData, parentId: e.target.value ? parseInt(e.target.value) : null})}\r\n                >\r\n                  <option value=\"\">Không có (danh mục cha)</option>\r\n                  {parentCategories.map(category => (\r\n                    <option key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Thứ tự sắp xếp</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={formData.sortOrder}\r\n                  onChange={(e) => setFormData({...formData, sortOrder: e.target.value})}\r\n                  placeholder=\"0\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Trạng thái</Form.Label>\r\n                <Form.Select\r\n                  value={formData.status}\r\n                  onChange={(e) => setFormData({...formData, status: e.target.value})}\r\n                >\r\n                  <option value=\"active\">Hoạt động</option>\r\n                  <option value=\"inactive\">Không hoạt động</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Mô tả</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n              placeholder=\"Mô tả về danh mục...\"\r\n            />\r\n          </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n            Hủy\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSaveCategory}>\r\n            {editingCategory ? 'Cập nhật' : 'Thêm danh mục'}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCategoriesPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}