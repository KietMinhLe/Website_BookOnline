{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Navbar,Nav,Container,Badge,Dropdown,Form,InputGroup,Button}from'react-bootstrap';import{FaShoppingCart,FaUser,FaSearch,FaBars}from'react-icons/fa';import NotificationBell from'../NotificationBell';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const navigate=useNavigate();const[searchQuery,setSearchQuery]=useState('');const[cartCount]=useState(3);// Mock cart count\nconst[isAuthenticated,setIsAuthenticated]=useState(false);// Auth state\nconst[user,setUser]=useState(null);// User state\nuseEffect(()=>{// Check if user is logged in from localStorage\nconst savedUser=localStorage.getItem('user');if(savedUser){const userData=JSON.parse(savedUser);setUser(userData);setIsAuthenticated(true);}},[]);const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){navigate(\"/books?q=\".concat(encodeURIComponent(searchQuery.trim())));}};const handleLogout=()=>{localStorage.removeItem('user');setUser(null);setIsAuthenticated(false);navigate('/');};return/*#__PURE__*/_jsx(Navbar,{expand:\"lg\",className:\"navbar-modern\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",className:\"navbar-brand-modern\",children:/*#__PURE__*/_jsx(\"div\",{className:\"brand-logo\",children:/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"BookStore\"})})}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSearch,className:\"d-flex mb-3 mb-lg-0 me-lg-3 w-100 w-lg-auto\",children:/*#__PURE__*/_jsxs(InputGroup,{className:\"w-100\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"search\",placeholder:\"T\\xECm ki\\u1EBFm s\\xE1ch...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"form-control\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",type:\"submit\",children:/*#__PURE__*/_jsx(FaSearch,{})})]})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\",children:/*#__PURE__*/_jsx(FaBars,{})}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/\",className:\"nav-link\",children:\"Trang ch\\u1EE7\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/books\",className:\"nav-link\",children:\"S\\xE1ch\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/categories\",className:\"nav-link\",children:\"Danh m\\u1EE5c\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/about\",className:\"nav-link\",children:\"Gi\\u1EDBi thi\\u1EC7u\"})]}),/*#__PURE__*/_jsxs(Nav,{className:\"ms-auto\",children:[/*#__PURE__*/_jsxs(Nav.Link,{as:Link,to:\"/cart\",className:\"position-relative me-2\",children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),cartCount>0&&/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"position-absolute top-0 end-0\",children:cartCount})]}),/*#__PURE__*/_jsx(NotificationBell,{}),isAuthenticated?/*#__PURE__*/_jsxs(Dropdown,{align:\"end\",children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{as:Nav.Link,className:\"text-white\",children:[/*#__PURE__*/_jsx(FaUser,{className:\"me-1\"}),(user===null||user===void 0?void 0:user.fullName)||(user===null||user===void 0?void 0:user.firstName)||'User']}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsx(Dropdown.Item,{as:Link,to:\"/profile\",children:\"Th\\xF4ng tin c\\xE1 nh\\xE2n\"}),/*#__PURE__*/_jsx(Dropdown.Item,{as:Link,to:\"/orders\",children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleLogout,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]}):/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/login\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Navbar","Nav","Container","Badge","Dropdown","Form","InputGroup","Button","FaShoppingCart","FaUser","FaSearch","FaBars","NotificationBell","jsx","_jsx","jsxs","_jsxs","Header","navigate","searchQuery","setSearchQuery","cartCount","isAuthenticated","setIsAuthenticated","user","setUser","savedUser","localStorage","getItem","userData","JSON","parse","handleSearch","e","preventDefault","trim","concat","encodeURIComponent","handleLogout","removeItem","expand","className","children","Brand","as","to","onSubmit","Control","type","placeholder","value","onChange","target","variant","Toggle","Collapse","id","bg","align","fullName","firstName","Menu","Item","Divider","onClick"],"sources":["D:/frontend/src/components/layout/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Navbar, Nav, Container, Badge, Dropdown, Form, InputGroup, Button } from 'react-bootstrap';\nimport { FaShoppingCart, FaUser, FaSearch, FaBars } from 'react-icons/fa';\nimport NotificationBell from '../NotificationBell';\n\nconst Header = () => {\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [cartCount] = useState(3); // Mock cart count\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Auth state\n  const [user, setUser] = useState(null); // User state\n\n  useEffect(() => {\n    // Check if user is logged in from localStorage\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      const userData = JSON.parse(savedUser);\n      setUser(userData);\n      setIsAuthenticated(true);\n    }\n  }, []);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      navigate(`/books?q=${encodeURIComponent(searchQuery.trim())}`);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n    setIsAuthenticated(false);\n    navigate('/');\n  };\n\n  return (\n    <Navbar expand=\"lg\" className=\"navbar-modern\">\n      <Container>\n        <Navbar.Brand as={Link} to=\"/\" className=\"navbar-brand-modern\">\n          <div className=\"brand-logo\">\n            <span className=\"logo-text\">BookStore</span>\n          </div>\n        </Navbar.Brand>\n        \n        {/* Search Bar */}\n        <Form onSubmit={handleSearch} className=\"d-flex mb-3 mb-lg-0 me-lg-3 w-100 w-lg-auto\">\n          <InputGroup className=\"w-100\">\n            <Form.Control\n              type=\"search\"\n              placeholder=\"Tìm kiếm sách...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"form-control\"\n            />\n            <Button variant=\"outline-light\" type=\"submit\">\n              <FaSearch />\n            </Button>\n          </InputGroup>\n        </Form>\n        \n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\">\n          <FaBars />\n        </Navbar.Toggle>\n        \n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            <Nav.Link as={Link} to=\"/\" className=\"nav-link\">\n              Trang chủ\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/books\" className=\"nav-link\">\n              Sách\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/categories\" className=\"nav-link\">\n              Danh mục\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/about\" className=\"nav-link\">\n              Giới thiệu\n            </Nav.Link>\n          </Nav>\n          \n          <Nav className=\"ms-auto\">\n            <Nav.Link as={Link} to=\"/cart\" className=\"position-relative me-2\">\n              <FaShoppingCart />\n              {cartCount > 0 && (\n                <Badge bg=\"danger\" className=\"position-absolute top-0 end-0\">\n                  {cartCount}\n                </Badge>\n              )}\n            </Nav.Link>\n            \n            <NotificationBell />\n            \n            {isAuthenticated ? (\n              <Dropdown align=\"end\">\n                <Dropdown.Toggle as={Nav.Link} className=\"text-white\">\n                  <FaUser className=\"me-1\" />\n                  {user?.fullName || user?.firstName || 'User'}\n                </Dropdown.Toggle>\n                <Dropdown.Menu>\n                  <Dropdown.Item as={Link} to=\"/profile\">\n                    Thông tin cá nhân\n                  </Dropdown.Item>\n                  <Dropdown.Item as={Link} to=\"/orders\">\n                    Đơn hàng của tôi\n                  </Dropdown.Item>\n                  <Dropdown.Divider />\n                  <Dropdown.Item onClick={handleLogout}>\n                    Đăng xuất\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            ) : (\n              <Nav.Link as={Link} to=\"/login\">Đăng nhập</Nav.Link>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}